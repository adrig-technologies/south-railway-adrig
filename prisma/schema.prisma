// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int        @id @default(autoincrement())
  name     String
  username String     @unique
  password String
  requests Requests[]
}

model Otp {
  id        String   @id @default(uuid())
  email     String   @unique
  code      String
  createdAt DateTime @default(now())
  validTill DateTime
}

model Requests {
  requestId             String @id @default(dbgenerated("(concat('Request_', gen_random_uuid()))::TEXT"))
  date                  String
  selectedDepartment    String
  selectedSection       String
  stationID             String
  missionBlock          String
  workType              String
  workDescription       String
  selectedLine          String
  cautionRequired       String
  cautionSpeed          String
  cautionLocationFrom   String
  cautionLocationTo     String
  workLocationFrom      String
  workLocationTo        String
  demandTimeFrom        String
  demandTimeTo          String
  sigDisconnection      String
  ohDisconnection       String
  elementarySectionFrom String
  elementarySectionTo   String
  otherLinesAffected    String
  userId                Int
  User                  User   @relation(fields: [userId], references: [id])
}
